{% extends '::base.html.twig' %}

{% block header %}
    {{ parent() }}
    {{ include('nav/menu.html.twig') }}
{% endblock %}
       
{% block body %}
<!-- TITULO REGISTRO -->
<div class="container cd-main-content">
    <h1>Register</h1>
    <hr>
</div>
<!-- FIN TITULO REGISTRO -->

{{ form_start(formulario, {'action':path('user_register'),
    'attr':{'onsubmit':'return validaRegistro()'}}) }}

<!-- CUERPO FORMULARIO -->
<div class="container cd-main-content">

    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-12">
        <!-- FILA USUARIO NOMBRE Y TELEFONO -->
        <div class="row">
            <!-- USUARIO NOMBRE -->
            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                {{ form_row(formulario.username) }}
            </div>
            <!-- FIN USUARIO NOMBRE -->


            <!-- USUARIO TELEFONO -->
            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                {{ form_label(formulario.prefix) }}
                <div class="user-register-phone"> 
                {{ form_widget(formulario.prefix) }}
                {{ form_widget(formulario.phone) }}
                </div>
            </div>
            <!-- FIN USUARIO TELEFONO -->


        </div>
        <!-- FIN FILA USUARIO NOMBRE Y TELEFONO -->


        <!-- FILA USUARIO EMAIL Y PASS -->
        <div class="row">
            <!-- USUARIO PASS -->
            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                {{ form_row(formulario.password) }}
            </div>
            <!-- FIN USUARIO PASS -->


            <!-- USUARIO EMAIL -->
            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                {{ form_row(formulario.email) }}
            </div>
            <!-- FIN USUARIO EMAIL -->


        </div>
        <!-- FIN FILA USUARIO EMAIL Y PASS -->


        <!-- FILA USUARIO FECHA NACIMIENTO -->
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                {{ form_row(formulario.birthdate) }}
            </div>
        </div>
        <!-- FIN FILA USUARIO FECHA NACIMIENTO -->


        <!-- FILA USUARIO HOBBIES -->
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                {% set imageHobby = "" %}
                {% set i = 0 %}

                {% for hobby in hobbies %}

                    {% if hobby.photo is defined %}
                        {% set imageHobby = 'background:url("http://www.whatwantweb.com/'~hobby.photo.url~'")' %}
                    {% endif %}
                    <div class="us-check-group-element">
                        <label class="image-checkbox" 
                            title="{{ hobby.name | capitalize}}">

                            <img class="img-responsive img-circle center-block" 
                                 width="50"
                                 src="{{ asset('img/usuario1.jpg') }}" />

                            <input style="{{ imageHobby }}" 
                                   type="checkbox" 
                                   name="hobbies_{{i}}" 
                                   value="{{hobby.id}}">
                        </label>
                        <span> {{ hobby.name | capitalize}} </span>
                    </div>
                    {% set i = i+1%}
                {%endfor%}
            </div>
        </div>
        <!-- FIN FILA USUARIO HOBBIES -->


        <!-- FILA USUARIO CAPTCHA -->
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                {{ form_row(formulario.captcha) }}
            </div>
        </div>
        <!-- FIN FILA USUARIO CAPTCHA -->


        <!-- FILA USUARIO CAPTCHA Y BOTON -->
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                {{ form_row(formulario.guardar) }}
            </div>
        </div>
        <!-- FIN FILA USUARIO CAPTCHA Y BOTON -->


    </div>


</div>
<!-- FIN CUERPO FORMULARIO -->

{{ form_end(formulario) }}

{% endblock %}



{% block javascriptsFooter %}
{{ parent() }}    
<script type="text/javascript">
    $(document).scroll(function(e){
        var scrollTop = $(document).scrollTop();
        if(scrollTop > $('#menuAdministracion').height()){
            //console.log(scrollTop);
            $('#cbp-hrmenu').css("position","fixed");
            $('#cbp-hrmenu').css("top","0");
            $('#cbp-hrmenu').css("z-index","999");
        } else {
            $('#cbp-hrmenu').css("position","relative");
        }
    });
</script>

<script type="text/javascript">
    jQuery(function ($) {
        // init the state from the input
        $(".image-checkbox").each(function () {
            if ($(this).find('input[type="checkbox"]').first().attr("checked")) {
                $(this).addClass('image-checkbox-checked');
            }
            else {
                $(this).removeClass('image-checkbox-checked');
            }
        });

        // sync the state to the input
        $(".image-checkbox").on("click", function (e) {
            if ($(this).hasClass('image-checkbox-checked')) {
                $(this).removeClass('image-checkbox-checked');
                $(this).find('input[type="checkbox"]').first().removeAttr("checked");
            }
            else {
                $(this).addClass('image-checkbox-checked');
                $(this).find('input[type="checkbox"]').first().attr("checked", "checked");
            }

            e.preventDefault();
        });
    });
</script>
{% endblock %}