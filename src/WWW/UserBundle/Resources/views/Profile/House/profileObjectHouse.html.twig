{% extends 'UserBundle:Layouts:layoutProfile.html.twig' %}
{% import '::macros/offer.html.twig' as offers %}

{% block title %}
    Casas
{% endblock %}

{% block alertProfile %}

    {% for flash_message in app.session.flashbag.get('messageSuccess') %}
        {{ alerts.alert('alert-success', flash_message, null) }}
    {% endfor %}

    {% for flash_message in app.session.flashbag.get('messageFail') %}
        {{ alerts.alert('alert-warning', flash_message, null) }}
    {% endfor %}


{% endblock %}


{% block javascriptsHeader %}
    {{ parent() }}
{% endblock %}


{% block bodyProfile %}
    <div class="row us-dataPersonal-row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            {{ dump(house) }}

            <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">

                </div>
            </div>


            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <h3>
                        Casas
                    </h3>
                    <hr/>
                </div>
            </div>

            {#{{ dump(house) }}#}
            {#{{ dump(arrayAttr) }}#}
            {% for key, arrayDatos in arrayAttr %}
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <h4>
                        {{ key|capitalize }}
                    </h4>
                    <hr>
                        {% set col = 0 %}

                        {% for dato in arrayDatos %}
                            {% if col == 0 %}
                                <div class="row off-row-date-second">
                            {% endif %}

                            {{ offers.atriOffer(dato.label, attribute(house,dato.attr)) }}

                            {% if col < 3 %}
                                {% set col = 1 + col %}
                            {% else %}
                                {% set col = 0 %}
                                </div>
                            {% endif %}
                        {% endfor %}

                        {#{ SE REALIZA COMPROBACIÃ“N PARA CERRAR EL ROW }#}
                        {% if col != 0 %}
                            {% set col = 0 %}
                            </div>
                        {% endif %}
                </div>
            </div>
            {% endfor %}

    </div>

{% endblock %}



{% block javascriptsFooter %}
    {{ parent() }}

    {{ include('lightbox/lightboxScript.html.twig') }}

{% endblock %}

